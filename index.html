<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Century's Blog</title><meta name="author" content="Century"><meta name="copyright" content="Century"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="系统领域新手">
<meta property="og:type" content="website">
<meta property="og:title" content="Century&#39;s Blog">
<meta property="og:url" content="http://centurybbx.github.io/index.html">
<meta property="og:site_name" content="Century&#39;s Blog">
<meta property="og:description" content="系统领域新手">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://centurybbx.github.io/img/avatar.jpg">
<meta property="article:author" content="Century">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://centurybbx.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://centurybbx.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Century\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-04-10 23:44:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><i class="fa-fw fas fa-sitemap"></i><span> Sitemap</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/background.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Century's Blog"><span class="site-name">Century's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/sitemap.xml"><i class="fa-fw fas fa-sitemap"></i><span> Sitemap</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Century's Blog</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/Centurybbx" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:shiyuan.ji@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/04/10/enclave-native-encrypted-database/" title="VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/enclave-native.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/10/enclave-native-encrypted-database/" title="VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases">VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-10T15:38:09.000Z" title="发表于 2023-04-10 23:38:09">2023-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a></span></div><div class="content">前言文章动机
纯密码方案（CryptDB、Arx）开销大，功能少
TEE方案：
EnclaveDB、ObliDB安全性高但效率相对差
Always-encrypted、StealthDB这类non-intrusive方案泄露的信息使其容易遭受攻击



贡献
提出多种在存储引擎上优化的设计，进而在安全、效率和功能性上做trade-off以达到enclave-native
将多种不同存储引擎设计融合一起（即本文的Enclage），可以缓解ciphertext amplification
设计合适的page size、用delta encryption来减少开销
巧妙设计index和table的执行逻辑以减少上下文切换

TEE-SGX
由于AMD SEV不支持remote attestation，因此选择更为成熟的SGX

SGX面临的挑战
enclave中有限的内存空间
enclave与non-enclave之间的切换开销
TCB(trusted computing base)的大小选择
侧信道攻击等（不属于做encrypted database人的范畴里，忽略）

Enclabve- ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/30/CMU-15-445-lecture-9/" title="CMU 15-445 Index Concurrency Control"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Index Concurrency Control"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/30/CMU-15-445-lecture-9/" title="CMU 15-445 Index Concurrency Control">CMU 15-445 Index Concurrency Control</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-30T15:09:00.000Z" title="发表于 2023-03-30 23:09:00">2023-03-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">Index Concurreny Control在之前学习的课程里，我们默认在单线程背景下对各种数据结构进行讨论。但在现实世界中，绝大多数DBMS需要使用多线程来尽可能使用CPU资源以减少I&#x2F;O时的延时。对于所谓的“并发控制”，其作用就是让DBMS对于一个暴露在多线程环境下的shared object操作要保证“正确”，正确的标准可以定义为：

Logical Correctness：线程应当可以读到其本该读到的值
Physical Correctness：object内部的表示应当是完整的

下面的讨论基于Physical Correctness进行。
Locks vs. Latches在之前的课程里提到过Lock和Latch之间的区别，即前者是高层次概念，后者是低层次实现。
Locks锁的高层次定义，它保护的是Transaction的内容，在交易的执行过程中锁一直存在，需要具有回滚功能。
Latches锁的低层次实现，它用来保护DBMS内部数据结构中临界区里的内容，锁随着操作的完成而消失，不支持回滚。具体有两种锁的模式：

READ：读锁，允许多个线程同时对相同内容执行读 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/30/CMU-15-445-project-1/" title="CMU 15-445 Project 1 - Buffer Pool(2022 Fall)"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Project 1 - Buffer Pool(2022 Fall)"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/30/CMU-15-445-project-1/" title="CMU 15-445 Project 1 - Buffer Pool(2022 Fall)">CMU 15-445 Project 1 - Buffer Pool(2022 Fall)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-29T17:22:34.000Z" title="发表于 2023-03-30 01:22:34">2023-03-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">写在前面对于还未完全实现的同学们，切忌直接面向测试编程！在着手实现前，一定要想好需要实现的函数的框架，以及其需要满足的功能。有一些功能的实现是需要对buffer pool有一定的理解，而不是简单地根据注释中的guideline就上手做，对于需要实现的功能有一定的理解再去实现能大大减少debug的时间。（说来都是泪呀…）此外，Project 1需要实现下面三个task：

Extendible Hash Table：可扩展哈希表
LRU-K Replacement Policy：基于LRU-K的页替换策略
Buffer Pool Manager Instance：管理上面所实现的1、2，实现buffer pool的基础操作

Extendible Hash Table定义先明确可扩展哈希表的定义，首先它是一个可以存储key-value键值对的数据结构，由一个可延长的链表加上对应的Bucket实现。可见Extendible Hashing (Dynamic approach to DBMS) - GeeksforGeeks中的详细解释。
为什么用？了解了可扩展哈希表的定义后，知道为什么使用 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/27/CMU-15-445-lecture-8/" title="CMU 15-445 Tree Indexes"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Tree Indexes"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/27/CMU-15-445-lecture-8/" title="CMU 15-445 Tree Indexes">CMU 15-445 Tree Indexes</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-27T13:18:01.000Z" title="发表于 2023-03-27 21:18:01">2023-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">Trees IndexesTable Indexes在DBMS里面，存在有许多不同的数据结构来管理元数据、核心数据等，其中table index用来帮助提高查询效率。抽象地说，table index是一组包含了表中某些列的冗余数据，通过创建对应的索引可以辅助DBMS避免线性搜索，提高检索效率。为了达到预期效果，table index中的内容应当是与表中的内容始终是同步的。通俗地讲，当表中数据发生变化时，索引中的数据应当进行相应的变化。但对于开发人员来讲，当索引量增加时，数据检索快了，但同时增加了存储开销和管理开销，即在数据中创建索引也是存在trade-off的。
B+TreeB+树是一种自适应的平衡树，其中的数据根据一定的规则有序放置，并且可以线性访问，插入和删除的时间复杂度也都保持在_O_(_log_(_n_))，因此它是十分适合应用于disk-oriented‘s DBMS。对于B+树而言其存在两种形式的节点：

Inner Node（中间节点）
Leaf Node（叶子节点）

不同于B树，B+树将所有的数据存储在Leaf Node上，因此Inner Node常常被视作其下层节点 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/20/learn-git-branching/" title="Learn Git Branching"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/git-branch.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Learn Git Branching"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/20/learn-git-branching/" title="Learn Git Branching">Learn Git Branching</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-20T13:45:26.000Z" title="发表于 2023-03-20 21:45:26">2023-03-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tools/">tools</a></span></div><div class="content">写在前面：最近写代码的过程中发现自己对Git的使用仅限于clone、add、commit之流，对于需要重构或者需要修改BUG的部分没有很好地用到Git的分支进行管理，故在之前学习git分支中学了一下，在此记录一下。&lt;由于时间有限还没学完，这里仅解释其中一部分内容，后续补充&gt;
基础篇Commit根据当前目录中的文件内容与上一个版本中的文件内容进行对比，差异化地添加文件。当执行此命令时HEAD会跟随当前分支追加节点，使其指向其父节点。git commit xxx：提交暂存区中的内容
Branch分支即指向某个提交的记录，多分支协同工作在实际开发中是十分有用的（圣经：早用分支，多用分支）。对于分支，可以将其理解为在当前节点及其父节点的基础上更改。git checkout &lt;name&gt;：切换到名为name的分支上git checkout -b &lt;new-branch-name&gt;：创建新分支并切换过去
Merge对于多个分支负责不同功能，应有支持将多个分支合并在一起的操作，merge便可完成这种事。git merge &lt;branch-name&gt;：将 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/18/CryptDB-brief-description/" title="CryptDB 论文简述"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/cryptdb.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CryptDB 论文简述"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/18/CryptDB-brief-description/" title="CryptDB 论文简述">CryptDB 论文简述</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-18T14:01:17.000Z" title="发表于 2023-03-18 22:01:17">2023-03-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a></span></div><div class="content">前言为什么提出？解决在加密数据库上的高效检索（要practical，不能只停留在学术层面）。
解决了什么问题？本篇文章定义了两种威胁：

第一种是内部攻击，比如对于不可信的DBA&#x2F;管理员用户，其偷偷窃取&#x2F;窃听数据所存在的威胁
第二种是敌手通过某种手段拿下整个application以及DBMS的控制权，保证目前状态下的数据隐私问题

怎么做的？通过SQL查询，在用户和DBMS中间加了一层proxy server来对用户查询的SQL进行一定的处理，最终将需要查询的数据透明返回给查询用户，其系统架构如下：

为解决以上两种问题，本文提出三种解决措施：

SQL-aware encryption strategy

根据SQL语句有清晰结构的特点，让CryptDB能够对加密数据库执行简单的SQL操作

adjustable query-based encryption

避免信息泄露，对于不同的查询，CryptDB在运行态对其分析处理，并提出了洋葱加密

chain encryption keys to user passwords

访问控制，在威胁二下将密钥成串连接起来 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/15/CMU-15-445-lecture-7/" title="CMU 15-445 Hash Tables"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Hash Tables"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/15/CMU-15-445-lecture-7/" title="CMU 15-445 Hash Tables">CMU 15-445 Hash Tables</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-15T13:54:48.000Z" title="发表于 2023-03-15 21:54:48">2023-03-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">Hash TablesHash Table哈希表的本质就是在一组无序的存有键值对的associative array。其空间复杂度为O(n)，时间复杂度平均为O(1)，最坏为O(n)。对于哈希表本身来说，其由两部分组成：

Hash Function
如何在大的key空间上映射小的domain
如何权衡快与慢（快的碰撞率高、满的碰撞率低）


Hashing Scheme
如何处理key之间的哈希碰撞
如何权衡直接申请大空间减少碰撞与使用额外策略解决碰撞



Hash Functions哈希函数即对于其输入，输出一个整数形式表示的key。该函数是deterministic的，即对于相同的输入有共同的输出。（相反，如果对于相同的输入有着不同的输出，则称 此函数为probabilistic function）在数据库领域使用的哈希函数与密码学领域有所不同，数据库领域的哈希函数主要在一两个指标：一是速度，二是碰撞率；而密码学的哈希函数会更侧重于不可反向推导（安全性）。目前主流的哈希函数是Facebook XXHash3。

关于两种哈希函数，Stackoverflow给出的一种解读：

S ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/11/CMU-15-445-lecture-6/" title="CMU 15-445 Memory Management"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Memory Management"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/11/CMU-15-445-lecture-6/" title="CMU 15-445 Memory Management">CMU 15-445 Memory Management</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-11T15:16:15.000Z" title="发表于 2023-03-11 23:16:15">2023-03-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">Memory Management之前的课程中介绍了DBMS是如何在磁盘上表示数据库上的文件，但由于文件一般存储在磁盘上，每次retrieve时需要先把磁盘上的数据读取到内存中，再从内存中读取数据返回给用户。对于Execution Engine而言，其不用考虑需要得到的page是否在memory中（因为最好的情况是所有需要retrieve的page都存在于memory中）。上述描述的问题可以归结为空间和时间问题：

空间上：where pages are physically written on disk. The goal of spatial control is to keep pages that are used together often as physically close together as possible on disk.
时间上： when to read pages into memory and when to write them to disk. Temporal control aims to minimize the number of st ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/11/CMU-15-445-lecture-5/" title="CMU 15-445 Storage Models &amp; Compression"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Storage Models &amp; Compression"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/11/CMU-15-445-lecture-5/" title="CMU 15-445 Storage Models &amp; Compression">CMU 15-445 Storage Models &amp; Compression</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-11T15:15:35.000Z" title="发表于 2023-03-11 23:15:35">2023-03-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">Database WorkloadsOLTPOLTP：On-Line Transaction Processing  

 Fast operations that only read&#x2F;update a small amount of data each time.  

常用来做业务层面的数据存储和处理，主要服务对象为客户。其特点在于操作较快，常用于简单在单个实体上进行查询，其写操作多于读操作。
OLAPOLAP：On-Line Analytical Processing  

 Complex queries that read a lot of data to compute aggregates.  

常用来做数据聚合和处理，主要服务对象为企业。其特点在于需要长时间处理，对在OLAP中的数据进行复杂处理和分析。
HTAPHTAP：Hybrid Transaction + Analytical Processing

 OLTP + OLAP together on the same database instance.

OLTP和OLAP的结合体。
Storage ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/11/CMU-15-445-lecture-4/" title="CMU 15-445 Database Storage II"><img class="post-bg" src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Database Storage II"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/11/CMU-15-445-lecture-4/" title="CMU 15-445 Database Storage II">CMU 15-445 Database Storage II</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-11T15:14:32.000Z" title="发表于 2023-03-11 23:14:32">2023-03-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/15445/">15445</a></span></div><div class="content">Database Storage II在CMU 15-445 Lecture 3介绍了Disk Oriented的数据存储，其使用slot array来进行page的存储管理，但仔细想想这种存储管理方式也存在一定的问题：

碎片：在page中队tuple的删除可能会导致碎片
无用的硬盘I&#x2F;O：假设读取少量数据，但其需要获取整个块来获得该tuple
随机硬盘I&#x2F;O：假设存在20个tuple需要更改，其分别存储在不同地方， 那么每次都要去硬盘里读取才可完成

因此引入了下面的一种数据结构，叫做Log-Structured Storage，它是一种只写性质的存储模型（bitcask这种append-only就属于这种结构）。
Log-StructuredStorage不同于需要重写的存储管理，此种结构只需记录log来完成存储，并把log放在tuple中进行存储。当需要进行更改时，DBMS只需从后往前（newest-&gt;oldest）查看即可得到相应的更改信息。其中由于刚开始的时候page是存储在内存中的，当内存中存满时会将其内容写入到磁盘中，这个过程中有两个特点：

 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Century</div><div class="author-info__description">系统领域新手</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Centurybbx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Centurybbx" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:shiyuan.ji@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">你好，我是century，系统领域的新手~</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/04/10/enclave-native-encrypted-database/" title="VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases"><img src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/enclave-native.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases"/></a><div class="content"><a class="title" href="/2023/04/10/enclave-native-encrypted-database/" title="VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases">VLDB-2021 Building Enclave-Native Storage Engines for Practical Encrypted Databases</a><time datetime="2023-04-10T15:38:09.000Z" title="发表于 2023-04-10 23:38:09">2023-04-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/30/CMU-15-445-lecture-9/" title="CMU 15-445 Index Concurrency Control"><img src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Index Concurrency Control"/></a><div class="content"><a class="title" href="/2023/03/30/CMU-15-445-lecture-9/" title="CMU 15-445 Index Concurrency Control">CMU 15-445 Index Concurrency Control</a><time datetime="2023-03-30T15:09:00.000Z" title="发表于 2023-03-30 23:09:00">2023-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/30/CMU-15-445-project-1/" title="CMU 15-445 Project 1 - Buffer Pool(2022 Fall)"><img src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Project 1 - Buffer Pool(2022 Fall)"/></a><div class="content"><a class="title" href="/2023/03/30/CMU-15-445-project-1/" title="CMU 15-445 Project 1 - Buffer Pool(2022 Fall)">CMU 15-445 Project 1 - Buffer Pool(2022 Fall)</a><time datetime="2023-03-29T17:22:34.000Z" title="发表于 2023-03-30 01:22:34">2023-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/27/CMU-15-445-lecture-8/" title="CMU 15-445 Tree Indexes"><img src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/15-445-22fall.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMU 15-445 Tree Indexes"/></a><div class="content"><a class="title" href="/2023/03/27/CMU-15-445-lecture-8/" title="CMU 15-445 Tree Indexes">CMU 15-445 Tree Indexes</a><time datetime="2023-03-27T13:18:01.000Z" title="发表于 2023-03-27 21:18:01">2023-03-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/learn-git-branching/" title="Learn Git Branching"><img src="https://raw.githubusercontent.com/Centurybbx/Centurybbx.github.io/main/img/git-branch.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Learn Git Branching"/></a><div class="content"><a class="title" href="/2023/03/20/learn-git-branching/" title="Learn Git Branching">Learn Git Branching</a><time datetime="2023-03-20T13:45:26.000Z" title="发表于 2023-03-20 21:45:26">2023-03-20</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/15445/"><span class="card-category-list-name">15445</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/research/"><span class="card-category-list-name">research</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/tools/"><span class="card-category-list-name">tools</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/TEE/" style="font-size: 1.1em; color: #999">TEE</a> <a href="/tags/database/" style="font-size: 1.5em; color: #99a9bf">database</a> <a href="/tags/encrypted-dabatase/" style="font-size: 1.1em; color: #999">encrypted dabatase</a> <a href="/tags/lecture/" style="font-size: 1.5em; color: #99a9bf">lecture</a> <a href="/tags/enclave-native/" style="font-size: 1.1em; color: #999">enclave native</a> <a href="/tags/encrypted-database/" style="font-size: 1.1em; color: #999">encrypted database</a> <a href="/tags/git/" style="font-size: 1.1em; color: #999">git</a> <a href="/tags/paper/" style="font-size: 1.3em; color: #99a1ac">paper</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">10</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">11</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-03-09T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-04-10T15:44:29.225Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Century</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="docsearch-wrap"><div id="docsearch" style="display:none"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css/dist/style.min.css"/><script src="https://cdn.jsdelivr.net/npm/@docsearch/js/dist/umd/index.min.js"></script><script>(() => {
  docsearch(Object.assign({
    appId: 'E32O7DGOG5',
    apiKey: '5a5d8e890a6f6751f5d24698cd6468c3',
    indexName: 'centurybbxio',
    container: '#docsearch',
  }, null))


  const searchClickFn = () => {
    document.querySelector('#search-button > .search').addEventListener('click', () => {
      document.querySelector('.DocSearch-Button').click()
    })
  }

  searchClickFn()
  window.addEventListener('pjax:complete', searchClickFn)
})()</script></div></body></html>